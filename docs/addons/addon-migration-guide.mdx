---
title: Addon migration guide for Storybook 9.0
sidebar:
  order: 9
  title: Migrate addons to 9.0
---

We sincerely appreciate the dedication and effort addon creators put into keeping the Storybook ecosystem vibrant and up-to-date. As Storybook evolves to version 9.0, bringing new features and improvements, this guide is here to assist you in migrating your addons from 8.x to 9.0. If you need to migrate your addon from an earlier version of Storybook, please first refer to the [Addon migration guide for Storybook 8.0](../../../release-8-6/docs/addons/addon-migration-guide.mdx).

<Callout variant="info">
  As we gather feedback from the community, weâ€™ll update this page. We also have a general [Storybook migration guide](../migration-guide/index.mdx) if youâ€™re looking for that.
</Callout>

## Replacing dependencies

Many previously-published packages have [moved to be part of Storybook's core](../migration-guide/index.mdx#package-structure-changes). If your addon depends on any of these packages, you should remove them from your `package.json` and update your addon to import from the new location. If your addon does not already depend on the `storybook` package, you should add it to your `package.json` as a dependency.

```diff title="package.json"
{
  "dependencies": {
+   "storybook": "next",
-   "@storybook/client-logger": "latest",
  }
}
```

```diff title="example.ts"
+ import { ... } from 'storybook/internal/client-logger';
- import { ... } from '@storybook/client-logger';
```

## Key changes for addons

Here are the essential changes in version 9.0 that impact addon development. Please check the [complete migration note](https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#from-version-8x-to-900) for an exhaustive list of changes in 9.0.

### Node.js 18 support dropped

Please upgrade your addon to Node.js 20, as support for Node.js 18 has ended.

### Removal of deprecated features

Deprecated packages and APIs from 8.0 are now removed in 9.0. Consult the [full migration notes](https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#dropped-support-for-legacy-packages) for details. 

## Migration Example

<Callout variant="warning">
  This section and the addon-kit itself have not yet been updated to reflect the changes in Storybook 9.0.
</Callout>

The Addon Kit [repository](https://github.com/storybookjs/addon-kit) has already been updated to support Storybook 8.0, and you can use it as a reference for your migration. You'll see the changes mentioned in this guide, including ESM support via the `type: module` configuration. As an addon maintainer, we encourage you to update your addon to include them. It simplifies the setup and makes it easier for users to use your addon with the latest version of Storybook. If you choose to follow along with the ESM migration, we've prepared an abbreviated list of changes below.

* [`package.json`](https://github.com/storybookjs/addon-kit/compare/79282986..fa7ee7c#diff-7ae45ad102eab3b6d7e7896acd08c427a9b25b346470d7bc6507b6481575d519) for dependency management, ESM support and updates to the addon's entry points.
* [`tsup.config.ts`](https://github.com/storybookjs/addon-kit/compare/79282986..fa7ee7c#diff-8fed899bdbc24789a7bb4973574e624ed6207c6ce572338bc3c3e117672b2a2) for bundling changes, factoring in Storybook's globals.
* [`.storybook/local-preset.js`](https://github.com/storybookjs/addon-kit/compare/79282986..fa7ee7c#diff-390b53ea479b1ceffcbf31944f644ee23aa9f337b75a8a0ffd815bed50d376cb) to support the ESM migration.

<Callout variant="info" icon="ðŸ’¡">
  For a complete overview of the changes applied to the Addon Kit to fully support Storybook 8.0, see the following [diff view](https://github.com/storybookjs/addon-kit/compare/79282986..fa7ee7c).
</Callout>

## Releasing

To support Storybook 9.0, we encourage you to release a new major version of your addon and continue supporting 8.x with minor or patch versions. For experimental features or testing, opt for the `next` tag. This will allow you to test your addon in projects and gather feedback before releasing a stable version.

## Support

If you're still having issues with your addon after following this guide, please open a [new discussion](https://github.com/storybookjs/storybook/discussions/new?category=help) in our GitHub repository.
